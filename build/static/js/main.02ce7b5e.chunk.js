(this["webpackJsonpcra-starter-app"]=this["webpackJsonpcra-starter-app"]||[]).push([[0],{170:function(e,t,n){e.exports=n(391)},175:function(e,t,n){},340:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(18),l=n.n(r),i=(n(175),n(176),n(153)),c=n(154),s=n(167),u=n(155),d=n(168),f=n(156),m=n(393),p=n(396),h=n(103),g=n(8),v=n(394),E=(n(340),n(157)),P=n.n(E),C=m.a.TextArea,S=function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t},b=function(e,t,n){return"#".concat(S(e)).concat(S(t)).concat(S(n))},k=function(e){for(var t="int colors[".concat(e.length,"][4] = {"),n=0;n<e.length;n+=1)t+="{".concat(e[n].color[0],",").concat(e[n].color[1],",").concat(e[n].color[2],",").concat(null!==e[n].fadePoint?1:0,"},");return t=t.substring(0,t.length-1),t+="};"},y=function(e,t,n){var a=e,o=t;return P()(a,o,n).map((function(e){return e.substring(4,e.length-1).replace(/ /g,"").split(",")})).map((function(e){return e.map((function(e){return parseInt(e,10)}))}))},N=function(){return b(parseInt(255*Math.random(),10),parseInt(255*Math.random(),10),parseInt(255*Math.random(),10))},w=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSelection=function(e){var t=e;n.state.selectedLed===e&&(t=-1),n.setState({selectedLed:t,tempColor:null})},n.state={selectedLed:-1,fadePoints:[{color:N(),id:0},{color:N(),id:parseInt(8*Math.random()+2,10)},{color:N(),id:parseInt(20*Math.random()+10,10)}],tempColor:null,stripPin:6},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this,t=this.state,n=t.fadePoints,a=t.selectedLed,r=t.tempColor,l=t.stripPin,i=[],c=1;c<n.length;c+=1){var s=y(n[c-1].color,n[c].color,n[c].id-n[c-1].id-1);c>1&&s.splice(0,1),i=i.concat(s)}var u=i.map((function(e,t){var a=n.find((function(e){return e.id===t}));return{color:e,fadePoint:void 0!==a?{color:a.color}:null}})),d=a>-1&&null!==u[a].fadePoint,m=a>0&&null===u[a-1].fadePoint,E=a>0&&a<u.length-1&&null===u[a+1].fadePoint;return o.a.createElement("div",{className:"App",onClick:function(t){t.target===t.currentTarget&&e.handleSelection(-1)}},o.a.createElement("div",{className:"header",onClick:function(t){t.target===t.currentTarget&&e.handleSelection(-1)}},"Arduino Neopixel code generator online"),0===a||a===n[n.length-1].id?o.a.createElement("div",{className:"control"}):o.a.createElement("div",{className:"control"},a>-1?o.a.createElement(o.a.Fragment,null,d&&m?o.a.createElement(h.a,{style:{marginRight:10},title:"Shift the fade point to the left",onClick:function(t){var o=n.concat();o.find((function(e){return e.id===a})).id=a-1,e.setState({fadePoints:o,selectedLed:a-1})}},o.a.createElement(g.a,{type:"arrow-left"})):null,o.a.createElement(h.a,{type:d?"danger":"primary",onClick:function(){if(d){var t=n.concat();t=t.filter((function(e){return e.id!==a})),e.setState({fadePoints:t})}else{var o=n.concat();o.push({color:b(u[a].color[0],u[a].color[1],u[a].color[2]),id:a}),o=o.sort((function(e,t){return e.id>t.id})),e.setState({fadePoints:o})}}},d?"Delete fade point":"Create fade point"),d&&E?o.a.createElement(h.a,{style:{marginLeft:10},title:"Shift the fade point to the right",onClick:function(){var t=n.concat();t.find((function(e){return e.id===a})).id=a+1,e.setState({fadePoints:t,selectedLed:a+1})}},o.a.createElement(g.a,{type:"arrow-right"})):null):o.a.createElement("label",null,"Strip size: ",o.a.createElement(v.a,{style:{width:70},min:2,onChange:function(t){var a=parseInt(t,10);if(!Number.isNaN(a)&&a>=2)if(a<n[n.length-1].id+1){var o=n[n.length-1].id+1-a,r=n.concat(),l=r[r.length-1];l.id-=o,r=r.filter((function(e){return e.id<l.id||e===l})),e.setState({fadePoints:r})}else{var i=a-(n[n.length-1].id+1),c=n.concat();c[c.length-1].id=c[c.length-1].id+i,e.setState({fadePoints:c})}},value:n[n.length-1].id+1})," ","leds")),o.a.createElement("div",{className:"ledCont",onClick:function(t){t.target===t.currentTarget&&e.handleSelection(-1)}},o.a.createElement(o.a.Fragment,null,u.map((function(t,n){return o.a.createElement("div",{key:"led".concat(n),role:"button",tabIndex:0,onKeyPress:function(){e.handleSelection(n)},className:"led",style:{backgroundColor:b(t.color[0],t.color[1],t.color[2]),border:n!==a?null:"3px solid black"},onClick:function(){e.handleSelection(n)}})})),o.a.createElement("br",null),u.map((function(e,t){return o.a.createElement("div",{key:"key".concat(t),className:"fadePoint"},e.fadePoint?"\u25b2":null)})))),d?o.a.createElement("div",{className:"colorPicker"},o.a.createElement(f.PhotoshopPicker,{color:b(u[a].color[0],u[a].color[1],u[a].color[2]),onChange:function(t){var o=n.concat(),l=o.find((function(e){return e.id===a})),i=l.color;l.color=t.hex,e.setState({fadePoints:o,tempColor:r||i})},onAccept:function(){e.setState({tempColor:null,selectedLed:-1})},onCancel:function(){if(null!==r){var t=n.concat();t.find((function(e){return e.id===a})).color=r,e.setState({fadePoints:t,tempColor:null,selectedLed:-1})}}})):o.a.createElement("div",{className:"output",onClick:function(t){t.target===t.currentTarget&&e.handleSelection(-1)}},o.a.createElement("h3",null,"Arduino output"),o.a.createElement("label",null,"Strip pin : ",o.a.createElement(v.a,{value:l,min:0,onChange:function(t){e.setState({stripPin:t})}})),o.a.createElement(C,{style:{marginTop:10},value:k(u),onChange:function(t){var n,a,o,r;try{n=function(e){var t=e.split("=")[1].trim();t=t.substring(0,t.length-1).replace(/{/g,"[").replace(/}/g,"]");var n=JSON.parse(t),a=[];return n.forEach((function(e,t){1===e[3]&&a.push({color:b(e[0],e[1],e[2]),id:t})})),a}(t.target.value)}catch(l){return a="error",o="Bad format",r="The input must be a arduino declaration with same format as the output this app is generating!",p.a[a]({message:o,description:r}),void console.log(l)}e.setState({fadePoints:n})}}),o.a.createElement("div",{style:{textAlign:"left"}},o.a.createElement("pre",null,"\nAdafruit_NeoPixel strip = Adafruit_NeoPixel(".concat(u.length,", ").concat(l,", NEO_GRB + NEO_KHZ800);\nstrip.begin();\nfor(uint16_t i=0; i<strip.numPixels(); i++) {\nstrip.setPixelColor(i, strip.Color(colors[i][0],colors[i][1],colors[i][2]));\n}\nstrip.show();\n              ")))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[170,1,2]]]);
//# sourceMappingURL=main.02ce7b5e.chunk.js.map